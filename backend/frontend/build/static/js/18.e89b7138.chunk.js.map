{"version":3,"sources":["pages/LogIn.jsx","pages/Error.jsx","API calls/user.js"],"names":["saveToLocalMemory","data","localStorage","setItem","_id","username","token","userType","LogIn","useState","setUsername","password","setPassword","error","setError","removeItem","submitForm","e","a","preventDefault","login","then","response","window","location","catch","err","status","alert","className","title","message","style","backgroundColor","height","src","alt","onSubmit","onChange","target","value","type","placeholder","autoFocus","disabled","to","Error","props","marginTop","marginLeft","onClick","reload","getItem","header","headers","Authorization","axios","post","register","userDetail","get","updateUser","clearCart"],"mappings":"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","file":"static/js/18.e89b7138.chunk.js","sourcesContent":["import { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { login } from \"../API calls/user\";\r\nimport Error from \"./Error\";\r\n\r\nconst clearLocalMemory = () => {\r\n  localStorage.removeItem(\"user_id\");\r\n  localStorage.removeItem(\"username\");\r\n  localStorage.removeItem(\"token\");\r\n  localStorage.removeItem(\"userType\");\r\n};\r\n\r\nconst saveToLocalMemory = data => {\r\n  localStorage.setItem(\"user_id\", data._id);\r\n  localStorage.setItem(\"username\", data.username);\r\n  localStorage.setItem(\"token\", data.token);\r\n  localStorage.setItem(\"userType\", data.userType);\r\n};\r\n\r\nconst LogIn = () => {\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [error, setError] = useState(false);\r\n  clearLocalMemory();\r\n\r\n  const submitForm = async e => {\r\n    e.preventDefault();\r\n    const data = {\r\n      username: username,\r\n      password: password,\r\n    };\r\n\r\n    login(data)\r\n      .then(response => {\r\n        saveToLocalMemory(response.data.data);\r\n        response.data.data.userType === \"moderator\"\r\n          ? (window.location = \"/moderator_home\")\r\n          : (window.location = \"/Home\");\r\n      })\r\n      .catch(err => {\r\n        if (err.response.status === 401)\r\n          alert(\"Login unsuccessful. You have entered invalid password.\");\r\n        else if (err.response.status === 404)\r\n          alert(\"Login unsuccessful. No such user found.\");\r\n        else setError(true);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"container-fluid \">\r\n      {error && (\r\n        <Error\r\n          title=\"Internal Server Error\"\r\n          message=\"We are sorry for Inconvenience. You can try reloading the page.\"\r\n        />\r\n      )}\r\n      {!error && (\r\n        <div className=\"row \">\r\n          <section\r\n            className=\"col-lg-6 d-none d-sm-none d-md-none d-lg-block\"\r\n            style={{ backgroundColor: \"#92CDE6\", height: \"100vh\" }}\r\n          >\r\n            <img\r\n              src=\"https://businessmodelnavigator.com/img/navigator-pattern-img-2/5.png\"\r\n              className=\"img-fluid rounded-start \"\r\n              alt=\"...\"\r\n            />\r\n          </section>\r\n          <div className=\"col-12 col-lg-6 mt-5 \">\r\n            <h1>Welcome to PickIt.</h1>\r\n            <p>\r\n              A place where you can buy or exchange whatever you want. Who said\r\n              barter system was past?\r\n              <strong> Login now to find the best products online!</strong>\r\n            </p>\r\n\r\n            <div className=\"card\">\r\n              <div className=\"card-body\">\r\n                <form onSubmit={submitForm}>\r\n                  <div className=\"row\">\r\n                    <div className=\"form-group \">\r\n                      <label className=\"form-label\">\r\n                        <strong>Username</strong>\r\n                      </label>\r\n                      <input\r\n                        onChange={e => setUsername(e.target.value)}\r\n                        type=\"text\"\r\n                        className=\"form-control\"\r\n                        placeholder=\"Enter your username here\"\r\n                        autoFocus\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"row\">\r\n                    <div className=\"form-group mt-3\">\r\n                      <label className=\"form-label\">\r\n                        <strong>Password</strong>\r\n                      </label>\r\n                      <input\r\n                        onChange={e => setPassword(e.target.value)}\r\n                        type=\"password\"\r\n                        className=\"form-control\"\r\n                        placeholder=\"Enter your password here\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"row mt-4\">\r\n                    <div className=\"col-md-2\">\r\n                      <button\r\n                        type=\"submit\"\r\n                        className=\"btn btn-primary submitbutton  \"\r\n                        disabled={\r\n                          username === \"\" || password === \"\" ? true : false\r\n                        }\r\n                      >\r\n                        Login\r\n                      </button>\r\n                    </div>\r\n\r\n                    <p className=\"mt-5\">\r\n                      Don't have an account.{\" \"}\r\n                      <Link to=\"/signup\">Create an account.</Link>\r\n                    </p>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LogIn;\r\n","import React from 'react'\n\n\nconst Error = props => {\n    return (\n      <div\n        className=\"container border border-dark\"\n        style={{ marginTop: \"20%\" }}\n      >\n        <div className=\"row mt-5\">\n          <div className=\"col-md-8 offset-md-4\">\n            <h1>{props.title}</h1>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-md-8 offset-md-4\">\n            <h4>{props.message}</h4>\n          </div>\n        </div>\n        <div className=\"row\">\n          <button\n            className=\"btn btn-primary col-md-2 offset-md-4 mt-4 mb-5\"\n            style={{ marginLeft: \"32em\" }}\n            onClick={() => {\n              window.location.reload(true);\n            }}\n          >\n            Reload\n          </button>\n        </div>\n      </div>\n    );\n}\n\nexport default Error\n","import axios from \"axios\";\n\nconst token = localStorage.getItem(\"token\");\nconst header = { headers: { Authorization: `Bearer ${token}` } };\n\n//logs in a user\nexport const login = async data =>\n  await axios.post(`http://localhost:8080/users/login`, data);\n\n//register a user\nexport const register = async data =>\n  await axios.post(`http://localhost:8080/users/signup`, data);\n\n//get User details\nexport const userDetail = async username => {\n  const response = await axios.get(\n    `http://localhost:8080/users/get_user_details/${username}`,\n    header\n  );\n  return response;\n};\n\n//update user details\nexport const updateUser = async data => {\n  const response = await axios.post(\n    `http://localhost:8080/users/update_profile`,\n    data,\n    header\n  );\n  return response;\n};\n\n//update user details\nexport const clearCart = async () => {\n  const response = await axios.post(\n    `http://localhost:8080/users/clear_cart`,\n    {},\n    header\n  );\n  return response;\n};\n"],"sourceRoot":""}