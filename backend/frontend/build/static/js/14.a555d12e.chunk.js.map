{"version":3,"sources":["Components/Card.js","pages/MyAds.jsx","API calls/products.js","pages/Error.jsx","Components/Modal.js","Components/UI/Dropdown.js"],"names":["withRouter","props","_id","image","name","price","date","status","requestsLength","description","type","categoryId","onRemove","Fragment","className","src","onClick","history","push","alt","style","cursor","marginLeft","charAt","toUpperCase","slice","toFixed","Date","getDate","getMonth","getFullYear","color","statusColor","pathname","state","Button","variant","imageLink","categoryid","userId","useParams","useState","modalOpen","setModalOpen","productIdToBeDeleted","setProductIdToBeDeleted","productNameToBeDeleted","setProductNameToBeDeleted","listedProducts","setListedProducts","filter","setFilter","responseRecieved","setResponseRecieved","error","setError","errType","setErrType","noProducts","setNoProducts","pageId","setPageId","pages","setPages","totalProducts","setTotalProducts","useEffect","fetchMyProducts","then","response","data","paginatedProducts","arrpages","number","Math","ceil","catch","err","displayModal","id","removeProduct","a","deleteProduct","window","location","reload","console","log","Spinner","text","marginTop","close","remove","productName","Dropdown","label","labelRequired","chosen","options","onSelect","dropdownOff","length","map","item","images","requests","transactionType","reverse","display","justifyContent","Pagination","Item","active","Error","title","message","token","localStorage","getItem","header","headers","Authorization","productFilter","axios","post","createProduct","fetchProductDetails","get","updateProduct","delete","unapprove","productId","fetchPendingProducts","exchangeableProducts","approve","getUploadLink","uploadImage","URL","file","put","fetchCart","addToCart","removeFromCart","sellProduct","fetchAllExchangable","Backdrop","ReactDOM","createPortal","position","top","left","width","height","zIndex","background","document","getElementById","RemoveModal","inputVal","setInputVal","Dialog","overflow","Header","Title","Footer","onChange","e","target","value","placeholder","autoFocus","disabled","PreviewModal","openConfirmationModal","pay","ConfirmationModal","DropdownSelector","Label","Toggle","Menu","categoryName"],"mappings":"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","file":"static/js/14.a555d12e.chunk.js","sourcesContent":["import React from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport { withRouter } from \"react-router\";\n\nconst Card = props => {\n  const statusColor = status => {\n    if (status === \"active\") {\n      return \"#198754\";\n    } else if (status === \"rejected\") {\n      return \"#dc3545\";\n    } else if (status === \"pending\") {\n      return \"#0d6efd\";\n    } else if (status === \"sold\") {\n      return \"#fd7e14\";\n    }\n  };\n  const {\n    _id,\n    image,\n    name,\n    price,\n    date,\n    status,\n    requestsLength,\n    description,\n    type,\n    categoryId,\n    onRemove,\n  } = props;\n\n  return (\n    <React.Fragment>\n      <div className=\"row mb-2\">\n        <div key={_id} className=\"card\">\n          <div className=\"row\">\n            <div className=\" col-md-3 mt-3 mb-3\">\n              <img\n                src={image}\n                className=\"img-fluid rounded-start \"\n                onClick={() => props.history.push(`/products/${_id}`)}\n                alt=\"...\"\n                style={{\n                  cursor: \"pointer\",\n                  marginLeft: \"10px\",\n                }}\n              />\n            </div>\n            <div className=\"col-md-9\">\n              <div className=\"card-body\">\n                <div className=\"row\">\n                  <h5\n                    className=\"card-title col-md-12\"\n                    style={{ cursor: \"pointer\" }}\n                    onClick={() => props.history.push(`/products/${_id}`)}\n                  >\n                    <strong>\n                      {name.charAt(0).toUpperCase() + name.slice(1)}\n                    </strong>\n                  </h5>\n                </div>\n\n                <div className=\"row\">\n                  <div className=\"card-text col-md-12\">\n                    <strong>PKR {price.toFixed(2)}</strong>\n                  </div>\n                </div>\n\n                <div className=\"row\">\n                  <div className=\"card-text col-md-12\">\n                    <small>\n                      Date posted:{\" \"}\n                      {`${new Date(date).getDate() + 1}/${\n                        new Date(date).getMonth() + 1\n                      }/${new Date(date).getFullYear()}`}\n                    </small>\n                  </div>\n                </div>\n\n                <div className=\"row\">\n                  <div className=\"card-text col-md-12\">\n                    <small>\n                      <strong\n                        className=\"\"\n                        style={{ color: statusColor(status) }}\n                      >\n                        {status.charAt(0).toUpperCase() + status.slice(1)}\n                      </strong>\n                    </small>\n                  </div>\n                </div>\n\n                <div className=\"row mt-5\">\n                  {type === \"exchange\" && status === \"active\" && (\n                    <button\n                      type=\"button\"\n                      className=\" col-lg-2 col-md-3 col-3 ms-1 btn btn-warning position-relative \"\n                      onClick={() =>\n                        props.history.push({\n                          pathname: `/requests/${_id}`,\n                          state: { name, price, description, image },\n                        })\n                      }\n                    >\n                      Offers\n                      {requestsLength !== 0 ? (\n                        <span className=\"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger\">\n                          {requestsLength}\n                        </span>\n                      ) : (\n                        \"\"\n                      )}\n                    </button>\n                  )}\n\n                  <Button\n                    className=\"col-lg-2 col-md-2 col-3 ms-1\"\n                    onClick={() => props.history.push(`/products/${_id}`)}\n                    variant=\"success\"\n                  >\n                    View\n                  </Button>\n                  {status !== \"sold\" && (\n                    <Button\n                      onClick={() => {\n                        props.history.push({\n                          pathname: `/products/update_product`,\n                          state: {\n                            _id: _id,\n                            name: name,\n                            price: price,\n                            imageLink: image,\n                            description: description,\n                            type: type,\n                            categoryid: categoryId,\n                          },\n                        });\n                      }}\n                      variant=\"primary\"\n                      className=\"col-lg-2 col-md-2 col-2 ms-1\"\n                    >\n                      Edit\n                    </Button>\n                  )}\n\n                  <Button\n                    onClick={() => onRemove(_id, name)}\n                    variant=\"danger\"\n                    className=\"col-lg-2 col-md-3 col-3 ms-1\"\n                  >\n                    Remove\n                  </Button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </React.Fragment>\n  );\n};\n\nexport default withRouter(Card);\n","import { useParams, withRouter } from \"react-router-dom\";\nimport { useState, useEffect, Fragment } from \"react\";\nimport { fetchMyProducts, deleteProduct } from \"../API calls/products\";\nimport { Button, Pagination } from \"react-bootstrap\";\nimport Card from \"../Components/Card\";\nimport { RemoveModal } from \"../Components/Modal\";\nimport DropdownSelector from \"../Components/UI/Dropdown\";\nimport Spinner from \"../Components/Spinner\";\nimport Error from \"./Error\";\n\nconst MyAds = props => {\n  const { userId } = useParams();\n  const [modalOpen, setModalOpen] = useState(false);\n  const [productIdToBeDeleted, setProductIdToBeDeleted] = useState(\"\");\n  const [productNameToBeDeleted, setProductNameToBeDeleted] = useState(\"\");\n  const [listedProducts, setListedProducts] = useState([]);\n  const [filter, setFilter] = useState(\"all\");\n  const [responseRecieved, setResponseRecieved] = useState(false);\n  const [error, setError] = useState(false);\n  const [errType, setErrType] = useState();\n  const [noProducts, setNoProducts] = useState(false);\n  const [pageId, setPageId] = useState(1);\n  const [pages, setPages] = useState([]);\n  const [totalProducts, setTotalProducts] = useState(0);\n  const limit = 4;\n\n  useEffect(() => {\n    fetchMyProducts(userId, pageId, filter)\n      .then(response => {\n        setResponseRecieved(true);\n        setTotalProducts(response.data.data.totalProducts);\n        setListedProducts(response.data.data.paginatedProducts);\n        let arrpages = [];\n        for (\n          let number = 1;\n          number <= Math.ceil(response.data.data.totalProducts / limit);\n          number++\n        ) {\n          arrpages.push(number);\n        }\n        setPages(arrpages);\n      })\n      .catch(err => {\n        setResponseRecieved(true);\n        if (err.response.status === 404) {\n          setNoProducts(true);\n        } else if (err.response.status === 500 || err.response.status === 401) {\n          setError(true);\n          setErrType(err.response.status);\n        }\n      });\n  }, [userId, pageId, filter]);\n\n  const displayModal = (id, name) => {\n    setModalOpen(true);\n    setProductIdToBeDeleted(id);\n    setProductNameToBeDeleted(name);\n  };\n\n  const closeModal = () => {\n    setModalOpen(false);\n    setProductIdToBeDeleted(\"\");\n    setProductNameToBeDeleted(\"\");\n  };\n\n  const removeProduct = async () => {\n    deleteProduct(productIdToBeDeleted)\n      .then(() => {\n        setProductIdToBeDeleted(\"\");\n        window.location.reload(true);\n      })\n      .catch(() => console.log(\"Error while deleting product\"));\n  };\n\n  return (\n    <div className=\"container\">\n      {!responseRecieved && !error && <Spinner text=\"Loading your products\" />}\n      {responseRecieved && noProducts && !error && (\n        <>\n          <div className=\"row mt-5\">\n            <div\n              className=\"d-flex justify-content-center\"\n              style={{ marginTop: \"100px\" }}\n            >\n              <h2>\n                <strong>You do not have any products.</strong>\n              </h2>\n            </div>\n          </div>\n          <div className=\"row \">\n            <div className=\"d-flex justify-content-center\">\n              <Button\n                onClick={() => props.history.push(`/products/create_new`)}\n                variant=\"primary\"\n                className=\"btn btn-lg\"\n              >\n                Add product\n              </Button>\n            </div>\n          </div>\n        </>\n      )}\n      {responseRecieved && !noProducts && !error && (\n        <Fragment>\n          {modalOpen && (\n            <RemoveModal\n              close={closeModal}\n              remove={removeProduct}\n              productName={productNameToBeDeleted}\n            />\n          )}\n\n          <div className=\"row\">\n            <div className=\"col-7 col-md-3 col-lg-3 mt-4 mb-5\">\n              <Button\n                onClick={() => props.history.push(`/products/create_new`)}\n                variant=\"primary\"\n                className=\"btn btn-lg\"\n              >\n                Add product\n              </Button>\n            </div>\n          </div>\n          <div className=\"row mb-3\">\n            <h2 className=\"col-7 col-md-4\">Your products ({totalProducts})</h2>\n\n            <DropdownSelector\n              className=\"col-md-1 col-3 offset-2 offset-md-6\"\n              variant=\"light\"\n              label=\"\"\n              labelRequired={false}\n              chosen={filter}\n              options={[\"all\", \"active\", \"rejected\", \"pending\", \"sold\"]}\n              onSelect={filter => setFilter(filter)}\n              dropdownOff=\"filter\"\n            />\n          </div>\n\n          {listedProducts && listedProducts.length > 0 ? (\n            listedProducts\n              .map(item => (\n                <Card\n                  key={item._id}\n                  _id={item._id}\n                  image={item.images[0]}\n                  name={item.productName}\n                  date={item.date}\n                  status={item.status}\n                  requestsLength={item.requests.length}\n                  description={item.description}\n                  type={item.transactionType}\n                  categoryId={item.categoryId}\n                  price={item.price}\n                  onRemove={displayModal}\n                />\n              ))\n              .reverse()\n          ) : (\n            <></>\n          )}\n          {pages && pages.length > 1 && (\n            <div\n              style={{\n                marginTop: \"10px\",\n                display: \"flex\",\n                justifyContent: \"center\",\n              }}\n            >\n              <Pagination>\n                {pages.map(number => (\n                  <Pagination.Item\n                    key={number}\n                    onClick={() => setPageId(number)}\n                    active={number === pageId}\n                  >\n                    {number}\n                  </Pagination.Item>\n                ))}\n              </Pagination>\n            </div>\n          )}\n        </Fragment>\n      )}\n      {responseRecieved && error && (\n        <Error\n          title={\n            errType === 401 ? \"Unauthorized Access\" : \"Internal Server Error\"\n          }\n          message={\n            errType === 401\n              ? \"You are not allowed to access the products.\"\n              : \"We are sorry for Inconvenience. You can try reloading the page.\"\n          }\n        />\n      )}\n    </div>\n  );\n};\n\nexport default withRouter(MyAds);\n","import axios from \"axios\";\n\nconst token = localStorage.getItem(\"token\");\nconst header = { headers: { Authorization: `Bearer ${token}` } };\n\n//fetches users product\nexport const fetchMyProducts = async (userId, pageId, productFilter) => {\n  const response = await axios.post(\n    `http://localhost:8080/users/${userId}/get_products`,\n    { pageId, productFilter },\n    header\n  );\n  return response;\n};\n\n//Creates a product\nexport const createProduct = async data => {\n  const response = await axios.post(\n    `http://localhost:8080/products/create_new`,\n    data,\n    header\n  );\n  return response;\n};\n\n//fetch a product's detail\nexport const fetchProductDetails = async _id => {\n  const response = await axios.get(\n    `http://localhost:8080/products/${_id}`,\n    header\n  );\n  return response;\n};\n\n//Updates a product\nexport const updateProduct = async data => {\n  const response = await axios.post(\n    `http://localhost:8080/products/update`,\n    data,\n    header\n  );\n  return response;\n};\n\n//delete a product\nexport const deleteProduct = async _id => {\n  const response = await axios.delete(\n    `http://localhost:8080/products/${_id}`,\n    header\n  );\n  return response;\n};\n\n//unapproves pending products\nexport const unapprove = async productId => {\n  const response = await axios.delete(\n    `http://localhost:8080/products/${productId}`,\n    header\n  );\n  return response;\n};\n\n//fetches pending products for the moderator\nexport const fetchPendingProducts = async () => {\n  const response = await axios.get(\n    `http://localhost:8080/products/unapproved`,\n    header\n  );\n  const exchangeableProducts = response.data.data.filter(\n    item => item.transactionType === \"exchange\"\n  );\n  return exchangeableProducts;\n};\n\n//approves products by moderator\nexport const approve = async data => {\n  const response = await axios.post(\n    `http://localhost:8080/products/approve`,\n    data,\n    header\n  );\n  return response;\n};\n\n//fetches image upload link\nexport const getUploadLink = async () => {\n  const response = await axios.get(\n    `http://localhost:8080/products/upload_image`\n  );\n  return response;\n};\n\n//uploads to s3 bucket\nexport const uploadImage = async (URL, file) => {\n  const options = {\n    headers: {\n      \"Content-Type\": file.type,\n    },\n  };\n  const response = await axios.put(URL, file, options);\n  return response;\n};\n\n//allows moderator to update price\nexport const updatePrice = async data => {\n  const response = await axios.post(\n    `http://localhost:8080/products/update`,\n    data,\n    header\n  );\n  return response;\n};\n\n//Fetch contents of user cart\nexport const fetchCart = async userId => {\n  const response = await axios.get(\n    `http://localhost:8080/products/cart/${userId}`,\n    header\n  );\n  return response;\n};\n\n//Add a product to user's cart\nexport const addToCart = async productId => {\n  const response = await axios.post(\n    `http://localhost:8080/products/addToCart/${productId}`,\n    {},\n    header\n  );\n  return response;\n};\n\n//Remove a product to user's cart\nexport const removeFromCart = async productId => {\n  const response = await axios.post(\n    `http://localhost:8080/products/removeFromCart/${productId}`,\n    {},\n    header\n  );\n  return response;\n};\n\n//sell a product\nexport const sellProduct = async _id => {\n  const response = await axios.post(\n    `http://localhost:8080/products/sell_product`,\n    { _id },\n    header\n  );\n  return response;\n};\n\n//fetches exchanegable\nexport const fetchAllExchangable = async () => {\n  const response = await axios.get(\n    `http://localhost:8080/products/fetch_all_exchangable`,\n    header\n  );\n  return response;\n};\n","import React from 'react'\n\n\nconst Error = props => {\n    return (\n      <div\n        className=\"container border border-dark\"\n        style={{ marginTop: \"20%\" }}\n      >\n        <div className=\"row mt-5\">\n          <div className=\"col-md-8 offset-md-4\">\n            <h1>{props.title}</h1>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-md-8 offset-md-4\">\n            <h4>{props.message}</h4>\n          </div>\n        </div>\n        <div className=\"row\">\n          <button\n            className=\"btn btn-primary col-md-2 offset-md-4 mt-4 mb-5\"\n            style={{ marginLeft: \"32em\" }}\n            onClick={() => {\n              window.location.reload(true);\n            }}\n          >\n            Reload\n          </button>\n        </div>\n      </div>\n    );\n}\n\nexport default Error\n","import ReactDOM from \"react-dom\";\nimport { Modal, Button } from \"react-bootstrap\";\nimport React, { useState } from \"react\";\n\nconst Backdrop = () => {\n  return ReactDOM.createPortal(\n    <div\n      style={{\n        position: \"fixed\",\n        top: \"0\",\n        left: \"0\",\n        width: \"100%\",\n        height: \"100vh\",\n        zIndex: \"10\",\n        background: \"rgba(0, 0, 0, 0.75)\",\n      }}\n    ></div>,\n    document.getElementById(\"backdrop-root\")\n  );\n};\n\nexport const RemoveModal = props => {\n  const [inputVal, setInputVal] = useState(\"\");\n\n  return ReactDOM.createPortal(\n    <React.Fragment>\n      <Backdrop />\n      <div className=\"row\">\n        <div className=\"offset-md-2 offset-lg-4\">\n          <Modal.Dialog\n            className=\"mb-5\"\n            style={{\n              position: \"fixed\",\n              top: \"30vh\",\n              overflow: \"hidden\",\n              zIndex: \"100\",\n            }}\n          >\n            <Modal.Header>\n              <Modal.Title>\n                Are you sure you want to delete? To continue type{\" \"}\n                <strong>\"{props.productName}\"</strong>\n              </Modal.Title>\n            </Modal.Header>\n\n            <Modal.Footer>\n              <label className=\"form-label\"></label>\n              <input\n                onChange={e => setInputVal(e.target.value)}\n                type=\"text\"\n                className=\"form-control\"\n                placeholder={props.productName}\n                autoFocus\n              />\n\n              <Button\n                variant=\"secondary\"\n                className=\"mt-4\"\n                onClick={props.close}\n              >\n                Close\n              </Button>\n              <Button\n                variant=\"danger\"\n                className=\"mt-4\"\n                onClick={props.remove}\n                disabled={inputVal === props.productName ? false : true}\n              >\n                Delete\n              </Button>\n            </Modal.Footer>\n          </Modal.Dialog>\n        </div>\n      </div>\n    </React.Fragment>,\n    document.getElementById(\"modal-root\")\n  );\n};\n\nexport const PreviewModal = props => {\n  return ReactDOM.createPortal(\n    <React.Fragment>\n      <Backdrop />\n      <div className=\"row\">\n        <div className=\"offset-md-2 offset-lg-4\">\n          <Modal.Dialog\n            className=\"mb-5\"\n            style={{\n              position: \"fixed\",\n              top: \"30vh\",\n              overflow: \"hidden\",\n              zIndex: \"100\",\n            }}\n          >\n            <Modal.Header>\n              <Modal.Title>\n                You are about to place an order. Click pay to finish placing\n                order.\n              </Modal.Title>\n            </Modal.Header>\n\n            <Modal.Footer>\n              <Button\n                variant=\"secondary\"\n                className=\"mt-4\"\n                onClick={props.close}\n              >\n                Close\n              </Button>\n              <Button\n                variant=\"primary\"\n                className=\"mt-4\"\n                onClick={() => {\n                  props.openConfirmationModal();\n                  props.close();\n                  props.pay();\n                }}\n              >\n                Pay\n              </Button>\n            </Modal.Footer>\n          </Modal.Dialog>\n        </div>\n      </div>\n    </React.Fragment>,\n    document.getElementById(\"preview-root\")\n  );\n};\n\nexport const ConfirmationModal = props => {\n  return ReactDOM.createPortal(\n    <React.Fragment>\n      <Backdrop />\n      <div className=\"row\">\n        <div className=\"offset-md-2 offset-lg-4\">\n          <Modal.Dialog\n            className=\"mb-5\"\n            style={{\n              position: \"fixed\",\n              top: \"30vh\",\n              overflow: \"hidden\",\n              zIndex: \"100\",\n            }}\n          >\n            <Modal.Header>\n              <Modal.Title>\n                <span className=\"text-success\">Payment successful.</span> You\n                can check order under orders tab.\n              </Modal.Title>\n            </Modal.Header>\n\n            <Modal.Footer>\n              <Button\n                variant=\"secondary\"\n                className=\"mt-4\"\n                onClick={() => {\n                  props.close()\n                  \n                }}\n              >\n                Close\n              </Button>\n            </Modal.Footer>\n          </Modal.Dialog>\n        </div>\n      </div>\n    </React.Fragment>,\n    document.getElementById(\"confirmation-root\")\n  );\n};\n\n","import { Form, Dropdown } from \"react-bootstrap\";\nconst DropdownSelector = props => {\n  const {\n    variant,\n    className,\n    label,\n    labelRequired,\n    chosen,\n    options,\n    onSelect,\n    dropdownOff,\n  } = props;\n  return (\n    <>\n      {labelRequired && (\n        <Form.Label>\n          <h6>{label}</h6>\n        </Form.Label>\n      )}\n      <Dropdown className={className}>\n        <Dropdown.Toggle variant={variant} className=\"btn-outline-dark\">\n          {chosen}\n        </Dropdown.Toggle>\n\n        <Dropdown.Menu>\n          {options.map(item => (\n            <Dropdown.Item\n              key={dropdownOff === \"category\" ? item._id : item}\n              onClick={() => {\n                onSelect(item);\n              }}\n            >\n              {dropdownOff === \"category\" ? item.categoryName : item}{\" \"}\n            </Dropdown.Item>\n          ))}\n        </Dropdown.Menu>\n      </Dropdown>\n    </>\n  );\n};\n\nexport default DropdownSelector;\n"],"sourceRoot":""}