(this.webpackJsonppickit=this.webpackJsonppickit||[]).push([[17],{243:function(e,t,c){"use strict";c.r(t);var n=c(40),r=c(3),a=c(0),s=c(64),i=c(217),o=c(59),l=c(1),d=function(e){var t=e.image,c=e.name,n=e.price,r=e.transactionType,a=e.onButtonPress;return Object(l.jsx)("div",{className:"col-12 col-sm-6  col-lg-4 col-xl-3 mb-4 mt-2",children:Object(l.jsxs)("div",{className:"card",children:[Object(l.jsx)("img",{src:t,className:"card-img-top",alt:"...",onClick:a,style:{cursor:"pointer"}}),Object(l.jsxs)("div",{className:"card-body",children:[Object(l.jsx)("h6",{className:"card-title",children:Object(l.jsx)("strong",{children:c.charAt(0).toUpperCase()+c.slice(1)})}),Object(l.jsxs)("p",{className:"card-text",children:["PKR ",Object(l.jsx)("strong",{children:n.toFixed(2)})]}),Object(l.jsxs)("p",{className:"card-text",children:["Available for",Object(l.jsx)("strong",{style:{color:"#198754"},children:"sell"===r?" Purchase":" Exchange"})]}),Object(l.jsx)(o.a,{className:"btn  btn-primary",onClick:a,children:"Explore"})]})]})})},j=c(53),u=c(15);t.default=Object(r.i)((function(e){var t=e.history,c=Object(r.h)().categoryId,o=Object(a.useState)([]),b=Object(n.a)(o,2),h=b[0],m=b[1],p=Object(a.useState)(1),x=Object(n.a)(p,2),O=x[0],f=x[1],g=Object(a.useState)([]),v=Object(n.a)(g,2),y=v[0],N=v[1],w=Object(a.useState)(!1),k=Object(n.a)(w,2),C=k[0],P=k[1],S=Object(a.useState)(!1),T=Object(n.a)(S,2),I=T[0],A=T[1];return Object(a.useEffect)((function(){Object(s.b)(c,O).then((function(e){A(!0),m(e.data.data.categoryProducts);for(var t=[],c=1;c<=Math.ceil(e.data.data.totalProducts/12);c++)t.push(c);N(t)})).catch((function(e){A(!0),P(!0)}))}),[c,O]),Object(l.jsxs)("div",{className:"container",children:[!C&&!I&&Object(l.jsx)(u.a,{text:"Fetching products"}),C&&Object(l.jsx)(j.a,{title:"Internal Server Error.",message:"We are sorry for Inconvenience. You can try reloading the page."}),!C&&I&&0===h.length&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"row mt-5",children:Object(l.jsx)("div",{className:"d-flex justify-content-center",style:{marginTop:"100px"},children:Object(l.jsx)("h2",{children:Object(l.jsx)("strong",{children:"No products to show."})})})}),Object(l.jsx)("div",{className:"row ",children:Object(l.jsx)("div",{className:"d-flex justify-content-center",children:Object(l.jsx)("button",{className:"btn btn-primary",onClick:function(){return window.location="/"},children:"back to home page"})})})]}),!C&&I&&0!==h.length&&Object(l.jsxs)("div",{className:"row mt-4",children:[Object(l.jsxs)("h2",{children:["Products available (",h.length,")"]}),h.map((function(e){return Object(l.jsx)(d,{image:"".concat(e.images[0]),name:e.productName,price:e.price,transactionType:e.transactionType,onButtonPress:function(){return t.push("/products/".concat(e._id))}},e._id)})),y&&y.length>1&&Object(l.jsx)("div",{style:{marginTop:"10px",display:"flex",justifyContent:"center"},children:Object(l.jsx)(i.a,{children:y.map((function(e){return Object(l.jsx)(i.a.Item,{onClick:function(){return f(e)},active:e===O,children:e},e)}))})})]})]})}))},53:function(e,t,c){"use strict";c(0);var n=c(1);t.a=function(e){return Object(n.jsxs)("div",{className:"container border border-dark",style:{marginTop:"20%"},children:[Object(n.jsx)("div",{className:"row mt-5",children:Object(n.jsx)("div",{className:"col-md-8 offset-md-4",children:Object(n.jsx)("h1",{children:e.title})})}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-md-8 offset-md-4",children:Object(n.jsx)("h4",{children:e.message})})}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("button",{className:"btn btn-primary col-md-2 offset-md-4 mt-4 mb-5",style:{marginLeft:"32em"},onClick:function(){window.location.reload(!0)},children:"Reload"})})]})}},64:function(e,t,c){"use strict";c.d(t,"a",(function(){return l})),c.d(t,"b",(function(){return d}));var n=c(42),r=c.n(n),a=c(43),s=c(44),i=c.n(s),o=localStorage.getItem("token"),l=function(){var e=Object(a.a)(r.a.mark((function e(){var t,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={Authorization:"Bearer ".concat(o)},e.next=3,i.a.get("http://localhost:8080/categories/",t);case 3:return c=e.sent,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Object(a.a)(r.a.mark((function e(t,c){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={Authorization:"Bearer ".concat(o)},e.next=3,i.a.get("http://localhost:8080/categories/".concat(t,"/").concat(c),n);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=17.db0d443c.chunk.js.map