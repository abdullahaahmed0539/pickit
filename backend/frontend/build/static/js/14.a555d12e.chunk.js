(this.webpackJsonppickit=this.webpackJsonppickit||[]).push([[14],{244:function(e,t,r){"use strict";r.r(t);var n=r(42),c=r.n(n),a=r(43),s=r(40),o=r(3),i=r(0),u=r.n(i),l=r(48),d=r(59),j=r(217),p=r(1),h=Object(o.i)((function(e){var t=e._id,r=e.image,n=e.name,c=e.price,a=e.date,s=e.status,o=e.requestsLength,i=e.description,l=e.type,j=e.categoryId,h=e.onRemove;return Object(p.jsx)(u.a.Fragment,{children:Object(p.jsx)("div",{className:"row mb-2",children:Object(p.jsx)("div",{className:"card",children:Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{className:" col-md-3 mt-3 mb-3",children:Object(p.jsx)("img",{src:r,className:"img-fluid rounded-start ",onClick:function(){return e.history.push("/products/".concat(t))},alt:"...",style:{cursor:"pointer",marginLeft:"10px"}})}),Object(p.jsx)("div",{className:"col-md-9",children:Object(p.jsxs)("div",{className:"card-body",children:[Object(p.jsx)("div",{className:"row",children:Object(p.jsx)("h5",{className:"card-title col-md-12",style:{cursor:"pointer"},onClick:function(){return e.history.push("/products/".concat(t))},children:Object(p.jsx)("strong",{children:n.charAt(0).toUpperCase()+n.slice(1)})})}),Object(p.jsx)("div",{className:"row",children:Object(p.jsx)("div",{className:"card-text col-md-12",children:Object(p.jsxs)("strong",{children:["PKR ",c.toFixed(2)]})})}),Object(p.jsx)("div",{className:"row",children:Object(p.jsx)("div",{className:"card-text col-md-12",children:Object(p.jsxs)("small",{children:["Date posted:"," ","".concat(new Date(a).getDate()+1,"/").concat(new Date(a).getMonth()+1,"/").concat(new Date(a).getFullYear())]})})}),Object(p.jsx)("div",{className:"row",children:Object(p.jsx)("div",{className:"card-text col-md-12",children:Object(p.jsx)("small",{children:Object(p.jsx)("strong",{className:"",style:{color:function(e){return"active"===e?"#198754":"rejected"===e?"#dc3545":"pending"===e?"#0d6efd":"sold"===e?"#fd7e14":void 0}(s)},children:s.charAt(0).toUpperCase()+s.slice(1)})})})}),Object(p.jsxs)("div",{className:"row mt-5",children:["exchange"===l&&"active"===s&&Object(p.jsxs)("button",{type:"button",className:" col-lg-2 col-md-3 col-3 ms-1 btn btn-warning position-relative ",onClick:function(){return e.history.push({pathname:"/requests/".concat(t),state:{name:n,price:c,description:i,image:r}})},children:["Offers",0!==o?Object(p.jsx)("span",{className:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger",children:o}):""]}),Object(p.jsx)(d.a,{className:"col-lg-2 col-md-2 col-3 ms-1",onClick:function(){return e.history.push("/products/".concat(t))},variant:"success",children:"View"}),"sold"!==s&&Object(p.jsx)(d.a,{onClick:function(){e.history.push({pathname:"/products/update_product",state:{_id:t,name:n,price:c,imageLink:r,description:i,type:l,categoryid:j}})},variant:"primary",className:"col-lg-2 col-md-2 col-2 ms-1",children:"Edit"}),Object(p.jsx)(d.a,{onClick:function(){return h(t,n)},variant:"danger",className:"col-lg-2 col-md-3 col-3 ms-1",children:"Remove"})]})]})})]})},t)})})})),b=r(86),f=r(87),m=r(15),x=r(53);t.default=Object(o.i)((function(e){var t=Object(o.h)().userId,r=Object(i.useState)(!1),n=Object(s.a)(r,2),u=n[0],O=n[1],v=Object(i.useState)(""),g=Object(s.a)(v,2),y=g[0],w=g[1],N=Object(i.useState)(""),k=Object(s.a)(N,2),C=k[0],I=k[1],S=Object(i.useState)([]),F=Object(s.a)(S,2),_=F[0],T=F[1],P=Object(i.useState)("all"),D=Object(s.a)(P,2),E=D[0],A=D[1],L=Object(i.useState)(!1),R=Object(s.a)(L,2),Y=R[0],q=R[1],z=Object(i.useState)(!1),B=Object(s.a)(z,2),M=B[0],H=B[1],U=Object(i.useState)(),J=Object(s.a)(U,2),K=J[0],V=J[1],W=Object(i.useState)(!1),G=Object(s.a)(W,2),Q=G[0],X=G[1],Z=Object(i.useState)(1),$=Object(s.a)(Z,2),ee=$[0],te=$[1],re=Object(i.useState)([]),ne=Object(s.a)(re,2),ce=ne[0],ae=ne[1],se=Object(i.useState)(0),oe=Object(s.a)(se,2),ie=oe[0],ue=oe[1];Object(i.useEffect)((function(){Object(l.g)(t,ee,E).then((function(e){q(!0),ue(e.data.data.totalProducts),T(e.data.data.paginatedProducts);for(var t=[],r=1;r<=Math.ceil(e.data.data.totalProducts/4);r++)t.push(r);ae(t)})).catch((function(e){q(!0),404===e.response.status?X(!0):500!==e.response.status&&401!==e.response.status||(H(!0),V(e.response.status))}))}),[t,ee,E]);var le=function(e,t){O(!0),w(e),I(t)},de=function(){var e=Object(a.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(l.d)(y).then((function(){w(""),window.location.reload(!0)})).catch((function(){return console.log("Error while deleting product")}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(p.jsxs)("div",{className:"container",children:[!Y&&!M&&Object(p.jsx)(m.a,{text:"Loading your products"}),Y&&Q&&!M&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{className:"row mt-5",children:Object(p.jsx)("div",{className:"d-flex justify-content-center",style:{marginTop:"100px"},children:Object(p.jsx)("h2",{children:Object(p.jsx)("strong",{children:"You do not have any products."})})})}),Object(p.jsx)("div",{className:"row ",children:Object(p.jsx)("div",{className:"d-flex justify-content-center",children:Object(p.jsx)(d.a,{onClick:function(){return e.history.push("/products/create_new")},variant:"primary",className:"btn btn-lg",children:"Add product"})})})]}),Y&&!Q&&!M&&Object(p.jsxs)(i.Fragment,{children:[u&&Object(p.jsx)(b.c,{close:function(){O(!1),w(""),I("")},remove:de,productName:C}),Object(p.jsx)("div",{className:"row",children:Object(p.jsx)("div",{className:"col-7 col-md-3 col-lg-3 mt-4 mb-5",children:Object(p.jsx)(d.a,{onClick:function(){return e.history.push("/products/create_new")},variant:"primary",className:"btn btn-lg",children:"Add product"})})}),Object(p.jsxs)("div",{className:"row mb-3",children:[Object(p.jsxs)("h2",{className:"col-7 col-md-4",children:["Your products (",ie,")"]}),Object(p.jsx)(f.a,{className:"col-md-1 col-3 offset-2 offset-md-6",variant:"light",label:"",labelRequired:!1,chosen:E,options:["all","active","rejected","pending","sold"],onSelect:function(e){return A(e)},dropdownOff:"filter"})]}),_&&_.length>0?_.map((function(e){return Object(p.jsx)(h,{_id:e._id,image:e.images[0],name:e.productName,date:e.date,status:e.status,requestsLength:e.requests.length,description:e.description,type:e.transactionType,categoryId:e.categoryId,price:e.price,onRemove:le},e._id)})).reverse():Object(p.jsx)(p.Fragment,{}),ce&&ce.length>1&&Object(p.jsx)("div",{style:{marginTop:"10px",display:"flex",justifyContent:"center"},children:Object(p.jsx)(j.a,{children:ce.map((function(e){return Object(p.jsx)(j.a.Item,{onClick:function(){return te(e)},active:e===ee,children:e},e)}))})})]}),Y&&M&&Object(p.jsx)(x.a,{title:401===K?"Unauthorized Access":"Internal Server Error",message:401===K?"You are not allowed to access the products.":"We are sorry for Inconvenience. You can try reloading the page."})]})}))},48:function(e,t,r){"use strict";r.d(t,"g",(function(){return l})),r.d(t,"c",(function(){return d})),r.d(t,"i",(function(){return j})),r.d(t,"n",(function(){return p})),r.d(t,"d",(function(){return h})),r.d(t,"m",(function(){return b})),r.d(t,"h",(function(){return f})),r.d(t,"b",(function(){return m})),r.d(t,"j",(function(){return x})),r.d(t,"o",(function(){return O})),r.d(t,"f",(function(){return v})),r.d(t,"a",(function(){return g})),r.d(t,"k",(function(){return y})),r.d(t,"l",(function(){return w})),r.d(t,"e",(function(){return N}));var n=r(42),c=r.n(n),a=r(43),s=r(44),o=r.n(s),i=localStorage.getItem("token"),u={headers:{Authorization:"Bearer ".concat(i)}},l=function(){var e=Object(a.a)(c.a.mark((function e(t,r,n){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("http://localhost:8080/users/".concat(t,"/get_products"),{pageId:r,productFilter:n},u);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),d=function(){var e=Object(a.a)(c.a.mark((function e(t){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("http://localhost:8080/products/create_new",t,u);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(a.a)(c.a.mark((function e(t){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("http://localhost:8080/products/".concat(t),u);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(a.a)(c.a.mark((function e(t){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("http://localhost:8080/products/update",t,u);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(a.a)(c.a.mark((function e(t){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.delete("http://localhost:8080/products/".concat(t),u);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(a.a)(c.a.mark((function e(t){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.delete("http://localhost:8080/products/".concat(t),u);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(a.a)(c.a.mark((function e(){var t,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("http://localhost:8080/products/unapproved",u);case 2:return t=e.sent,r=t.data.data.filter((function(e){return"exchange"===e.transactionType})),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(a.a)(c.a.mark((function e(t){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("http://localhost:8080/products/approve",t,u);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(a.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("http://localhost:8080/products/upload_image");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(a.a)(c.a.mark((function e(t,r){var n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{"Content-Type":r.type}},e.next=3,o.a.put(t,r,n);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),v=function(){var e=Object(a.a)(c.a.mark((function e(t){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("http://localhost:8080/products/cart/".concat(t),u);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(a.a)(c.a.mark((function e(t){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("http://localhost:8080/products/addToCart/".concat(t),{},u);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(a.a)(c.a.mark((function e(t){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("http://localhost:8080/products/removeFromCart/".concat(t),{},u);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(a.a)(c.a.mark((function e(t){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("http://localhost:8080/products/sell_product",{_id:t},u);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(a.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("http://localhost:8080/products/fetch_all_exchangable",u);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},53:function(e,t,r){"use strict";r(0);var n=r(1);t.a=function(e){return Object(n.jsxs)("div",{className:"container border border-dark",style:{marginTop:"20%"},children:[Object(n.jsx)("div",{className:"row mt-5",children:Object(n.jsx)("div",{className:"col-md-8 offset-md-4",children:Object(n.jsx)("h1",{children:e.title})})}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-md-8 offset-md-4",children:Object(n.jsx)("h4",{children:e.message})})}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("button",{className:"btn btn-primary col-md-2 offset-md-4 mt-4 mb-5",style:{marginLeft:"32em"},onClick:function(){window.location.reload(!0)},children:"Reload"})})]})}},86:function(e,t,r){"use strict";r.d(t,"c",(function(){return j})),r.d(t,"b",(function(){return p})),r.d(t,"a",(function(){return h}));var n=r(40),c=r(16),a=r.n(c),s=r(239),o=r(59),i=r(0),u=r.n(i),l=r(1),d=function(){return a.a.createPortal(Object(l.jsx)("div",{style:{position:"fixed",top:"0",left:"0",width:"100%",height:"100vh",zIndex:"10",background:"rgba(0, 0, 0, 0.75)"}}),document.getElementById("backdrop-root"))},j=function(e){var t=Object(i.useState)(""),r=Object(n.a)(t,2),c=r[0],j=r[1];return a.a.createPortal(Object(l.jsxs)(u.a.Fragment,{children:[Object(l.jsx)(d,{}),Object(l.jsx)("div",{className:"row",children:Object(l.jsx)("div",{className:"offset-md-2 offset-lg-4",children:Object(l.jsxs)(s.a.Dialog,{className:"mb-5",style:{position:"fixed",top:"30vh",overflow:"hidden",zIndex:"100"},children:[Object(l.jsx)(s.a.Header,{children:Object(l.jsxs)(s.a.Title,{children:["Are you sure you want to delete? To continue type"," ",Object(l.jsxs)("strong",{children:['"',e.productName,'"']})]})}),Object(l.jsxs)(s.a.Footer,{children:[Object(l.jsx)("label",{className:"form-label"}),Object(l.jsx)("input",{onChange:function(e){return j(e.target.value)},type:"text",className:"form-control",placeholder:e.productName,autoFocus:!0}),Object(l.jsx)(o.a,{variant:"secondary",className:"mt-4",onClick:e.close,children:"Close"}),Object(l.jsx)(o.a,{variant:"danger",className:"mt-4",onClick:e.remove,disabled:c!==e.productName,children:"Delete"})]})]})})})]}),document.getElementById("modal-root"))},p=function(e){return a.a.createPortal(Object(l.jsxs)(u.a.Fragment,{children:[Object(l.jsx)(d,{}),Object(l.jsx)("div",{className:"row",children:Object(l.jsx)("div",{className:"offset-md-2 offset-lg-4",children:Object(l.jsxs)(s.a.Dialog,{className:"mb-5",style:{position:"fixed",top:"30vh",overflow:"hidden",zIndex:"100"},children:[Object(l.jsx)(s.a.Header,{children:Object(l.jsx)(s.a.Title,{children:"You are about to place an order. Click pay to finish placing order."})}),Object(l.jsxs)(s.a.Footer,{children:[Object(l.jsx)(o.a,{variant:"secondary",className:"mt-4",onClick:e.close,children:"Close"}),Object(l.jsx)(o.a,{variant:"primary",className:"mt-4",onClick:function(){e.openConfirmationModal(),e.close(),e.pay()},children:"Pay"})]})]})})})]}),document.getElementById("preview-root"))},h=function(e){return a.a.createPortal(Object(l.jsxs)(u.a.Fragment,{children:[Object(l.jsx)(d,{}),Object(l.jsx)("div",{className:"row",children:Object(l.jsx)("div",{className:"offset-md-2 offset-lg-4",children:Object(l.jsxs)(s.a.Dialog,{className:"mb-5",style:{position:"fixed",top:"30vh",overflow:"hidden",zIndex:"100"},children:[Object(l.jsx)(s.a.Header,{children:Object(l.jsxs)(s.a.Title,{children:[Object(l.jsx)("span",{className:"text-success",children:"Payment successful."})," You can check order under orders tab."]})}),Object(l.jsx)(s.a.Footer,{children:Object(l.jsx)(o.a,{variant:"secondary",className:"mt-4",onClick:function(){e.close()},children:"Close"})})]})})})]}),document.getElementById("confirmation-root"))}},87:function(e,t,r){"use strict";var n=r(216),c=r(238),a=r(1);t.a=function(e){var t=e.variant,r=e.className,s=e.label,o=e.labelRequired,i=e.chosen,u=e.options,l=e.onSelect,d=e.dropdownOff;return Object(a.jsxs)(a.Fragment,{children:[o&&Object(a.jsx)(n.a.Label,{children:Object(a.jsx)("h6",{children:s})}),Object(a.jsxs)(c.a,{className:r,children:[Object(a.jsx)(c.a.Toggle,{variant:t,className:"btn-outline-dark",children:i}),Object(a.jsx)(c.a.Menu,{children:u.map((function(e){return Object(a.jsxs)(c.a.Item,{onClick:function(){l(e)},children:["category"===d?e.categoryName:e," "]},"category"===d?e._id:e)}))})]})]})}}}]);
//# sourceMappingURL=14.a555d12e.chunk.js.map